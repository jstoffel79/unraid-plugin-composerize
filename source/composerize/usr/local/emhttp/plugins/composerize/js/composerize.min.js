/**
 * Minified version of the composerize library.
 * This library converts 'docker run' commands into docker-compose YAML format.
 * Source: https://github.com/magicmark/composerize
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.composerize=t():e.composerize=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function r(e){return e.replace(/[\s\S]/g,function(e){return"&#"+e.charCodeAt(0)+";"})}function o(e){var t=e.match(l);if(t)return t[1]}function i(e){var t=e.match(c);return t?t[1]:e}function a(e){var t=e.split("="),n=t.shift(),r=t.join("=");return{name:n,value:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.indent=t.isAtty=t.getCommand=t.getEntrypoint=t.getImage=t.getContainerName=t.getLinks=t.getPorts=t.getVolumes=t.getEnvironment=void 0;var s=n(2),u=function(e){return e.map(function(e){var t=e.split(":"),n=t[0],r=t[1],o=t[2];if(r){var i=o?r+":"+o:r;return"- "+n+":"+i}return"- "+n})},l=/\s(?:--name|--name=)(\w+)\s?/,c=/\s(--entrypoint|--entrypoint=)(.+)\s?/,p=function(e,t){var n=e.split(" "),r=n.indexOf(t);return-1!==r?n[r+1]:null};t.getEnvironment=function(e){var t=[];return e.replace(/\s-(?:-env-file|e)\s?(.+?)(?=\s-|\s--|s*$)/g,function(e,n){return t.push(a(n)),""}),t.map(function(e){return"- "+e.name+"="+e.value})},t.getVolumes=function(e){var t=[];return e.replace(/\s-(?:-volume|v)\s?(.+?)(?=\s-|\s--|s*$)/g,function(e,n){return t.push(n),""}),u(t)},t.getPorts=function(e){var t=[];return e.replace(/\s-(?:-publish|p)\s?(.+?)(?=\s-|\s--|s*$)/g,function(e,n){return t.push(n),""}),t.map(function(e){return'- "'+e+'"'})},t.getLinks=function(e){var t=[];return e.replace(/\s-(?:-link)\s?(.+?)(?=\s-|\s--|s*$)/g,function(e,n){return t.push(n),""}),t.map(function(e){return"- "+e})},t.getContainerName=o,t.getImage=function(e){var t=e.split(" "),n=t.filter(function(e){return!e.startsWith("-")});return n[n.length-1]},t.getEntrypoint=i,t.getCommand=function(e){var t=e.split(" "),n=i(e),r=o(e),a=s.commands.filter(function(e){return-1!==t.indexOf(e)}),u=t.filter(function(e){return!e.startsWith("-")&&e!==r&&e!==n});return u.splice(0,a.length+2),u.join(" ")},t.isAtty=function(e){return-1!==e.indexOf(" -it ")},t.indent=r},function(e,t,n){"use strict";function r(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function o(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.convert=void 0;var i=n(0),a=function(e){var t={};return e.forEach(function(e){var n=e.split("="),i=r(n[0]),a=n[1]||!0;t[i]=a}),t},s=function(e){var t=e.split(" "),n=t.shift();return{command:n,args:t}};t.convert=function(e){for(var t=s(e),n=t.command,r=t.args,u={},l=0;l<r.length;l++){var c=r[l];if(c.startsWith("--")){var p=a([c.substring(2)]);u=Object.assign(u,p)}else if(c.startsWith("-")){for(var d=c.substring(1).split(""),f=0;f<d.length;f++){var g=d[f],h=r[l+1]&&!r[l+1].startsWith("-");if(h){var m=a([g+"="+r[l+1]]);u=Object.assign(u,m),l++}else{var v=a([g]);u=Object.assign(u,v)}}}}var y={};return Object.keys(u).forEach(function(e){"env"===e||"e"===e||"volume"===e||"v"===e||"publish"===e||"p"===e||"expose"===e||"link"===e||"label"===e||"l"===e?y[e]?y[e].push(u[e]):y[e]=[u[e]]:y[e]=u[e]}),y.image=i.getImage(e),y.command=i.getCommand(e),y.entrypoint=i.getEntrypoint(e),y.name&&(y.container_name=y.name),y.restart&&(y.restart="on-failure"===y.restart?"on-failure":"always"),y.tty=i.isAtty(e),Object.keys(y).forEach(function(e){var t=y[e];(Array.isArray(t)&&0===t.length||!t)&&delete y[e]}),y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commands=["run","exec","create"]},function(e,t,n){"use strict";function r(e){var t=o.convert(e),n=s.stringify(t,null,4);return n=n.replace(/"/g,""),n=n.replace(/^(---)/g,"version: '2'"),n=n.replace(/(- .*:.*)/g,'  $1"'),n=n.replace(/(- .*)/g,'    $1"'),n=n.replace(/(image:.*)/g,"image: '$1'"),n=n.replace(/command:\s"(.*)"/g,"command: $1"),n=n.replace(/entrypoint:\s"(.*)"/g,"entrypoint: $1"),n=n.replace(/container_name:\s(.*)/g,"container_name: $1"),n=n.replace(/restart:\s(.*)/g,"restart: $1"),n=n.replace(/tty:\s(.*)/g,"tty: $1"),n=n.replace(/^(?!services|\s|-|version|image|command|entrypoint|container_name|restart|tty)(.*:\s)/gm,"  $1"),n=n.replace(/ports:/g,"ports:\n"),n=n.replace(/volumes:/g,"volumes:\n"),n=n.replace(/links:/g,"links:\n"),n=n.replace(/environment:/g,"environment:\n"),n=n.replace(/labels:/g,"labels:\n"),n=n.replace(/^(services:)/g,"$1\n  "+i.getImage(e).split(":")[0]+":"),n=n.replace(/"/g,"")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r,e.exports=t.default}])});
